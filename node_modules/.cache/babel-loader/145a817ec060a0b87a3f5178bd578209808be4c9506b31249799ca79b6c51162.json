{"ast":null,"code":"var _jsxFileName = \"/Users/kirillonucin/Desktop/finalProjectReact/src/components/aboutMovie/InfoAboutMovie.tsx\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from \"./InfoAboutMovie.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchMovieById } from \"../../store/movieSliсe\";\nimport { fetchRundomMovie } from \"../../store/randomMovieSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InfoAboutMovie = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  const [isFetched, setIsFetched] = useState(false);\n  const {\n    data: randomMovie,\n    loading: randomLoading,\n    error: randomError\n  } = useSelector(state => state.movieRandom || {\n    data: null,\n    loading: false,\n    error: null\n  });\n  const {\n    data: selectedMovie,\n    loading: selectedLoading,\n    error: selectedError\n  } = useSelector(state => state.movieById || {\n    data: null,\n    loading: false,\n    error: null\n  });\n  useEffect(() => {\n    if (id) {\n      const movieId = String(id); // Преобразуем id в строку\n      dispatch(fetchMovieById(movieId)); // Запрос по id\n    } else if (!randomMovie && !isFetched) {\n      dispatch(fetchRundomMovie()); // Запрос случайного фильма, если нет id и фильм не был загружен\n      setIsFetched(true);\n    }\n  }, [dispatch, id, randomMovie, isFetched]);\n  const movie = id ? selectedMovie : randomMovie;\n  const loading = id ? selectedLoading : randomLoading;\n  const error = id ? selectedError : randomError;\n  const details = [{\n    label: \"Язык оригинала\",\n    value: (movie === null || movie === void 0 ? void 0 : movie.language) || \"Не указано\"\n  }, {\n    label: \"Бюджет\",\n    value: movie !== null && movie !== void 0 && movie.budget ? `${movie.budget} $` : \"Не указано\"\n  }, {\n    label: \"Выручка\",\n    value: movie !== null && movie !== void 0 && movie.revenue ? `${movie.revenue} $` : \"Не указано\"\n  }, {\n    label: \"Режиссёр\",\n    value: (movie === null || movie === void 0 ? void 0 : movie.director) || \"Не указано\"\n  }, {\n    label: \"Продакшен\",\n    value: (movie === null || movie === void 0 ? void 0 : movie.production) || \"Не указано\"\n  }, {\n    label: \"Награды\",\n    value: (movie === null || movie === void 0 ? void 0 : movie.awardsSummary) || \"Нет наград\"\n  }];\n  const formatTime = minutes => {\n    const hours = Math.floor(minutes / 60);\n    const min = minutes % 60;\n    return hours === 0 ? `${min}мин` : `${hours}ч ${min}мин`;\n  };\n\n  // if (loading) return <p>Загрузка...</p>;\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 23\n  }, this);\n  // if (!movie) return <p>Фильм не найден</p>;\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.infoAboutMovie,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.infoAboutMovie__title,\n      children: \"\\u041E \\u0444\\u0438\\u043B\\u044C\\u043C\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.description,\n      children: details.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.description__line,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.description__name,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.description__text,\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.description__border\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.description__data,\n          children: item.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(InfoAboutMovie, \"LwpoVKSmnLQNYyCpeDTV567iwJQ=\", false, function () {\n  return [useDispatch, useParams, useSelector, useSelector];\n});\n_c = InfoAboutMovie;\nexport default InfoAboutMovie;\nvar _c;\n$RefreshReg$(_c, \"InfoAboutMovie\");","map":{"version":3,"names":["useDispatch","useSelector","styles","useEffect","useState","useParams","fetchMovieById","fetchRundomMovie","jsxDEV","_jsxDEV","InfoAboutMovie","_s","dispatch","id","isFetched","setIsFetched","data","randomMovie","loading","randomLoading","error","randomError","state","movieRandom","selectedMovie","selectedLoading","selectedError","movieById","movieId","String","movie","details","label","value","language","budget","revenue","director","production","awardsSummary","formatTime","minutes","hours","Math","floor","min","children","fileName","_jsxFileName","lineNumber","columnNumber","className","infoAboutMovie","infoAboutMovie__title","description","map","item","index","description__line","description__name","description__text","description__border","description__data","_c","$RefreshReg$"],"sources":["/Users/kirillonucin/Desktop/finalProjectReact/src/components/aboutMovie/InfoAboutMovie.tsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch } from \"../../store/store\";\nimport styles from \"./InfoAboutMovie.module.css\";\nimport MovieData from \"../../types/mainTypes\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchMovieById } from \"../../store/movieSliсe\";\nimport { fetchRundomMovie } from \"../../store/randomMovieSlice\";\n\ninterface RootState {\n    movieRandom: {\n        data: MovieData | null;\n        loading: boolean;\n        error: string | null;\n    };\n    movieById: {\n        data: MovieData | null;\n        loading: boolean;\n        error: string | null;\n    };\n}\n\nconst InfoAboutMovie = () => {\n    const dispatch = useDispatch<AppDispatch>();\n    const { id } = useParams<{ id?: string }>();\n    const [isFetched, setIsFetched] = useState(false);\n\n    const { data: randomMovie, loading: randomLoading, error: randomError } = useSelector(\n        (state: RootState) => state.movieRandom || { data: null, loading: false, error: null }\n    );\n    const { data: selectedMovie, loading: selectedLoading, error: selectedError } = useSelector(\n        (state: RootState) => state.movieById || { data: null, loading: false, error: null }\n    );\n\n    useEffect(() => {\n        if (id) {\n            const movieId = String(id); // Преобразуем id в строку\n            dispatch(fetchMovieById(movieId)); // Запрос по id\n        } else if (!randomMovie && !isFetched) {\n            dispatch(fetchRundomMovie()); // Запрос случайного фильма, если нет id и фильм не был загружен\n            setIsFetched(true);\n        }\n    }, [dispatch, id, randomMovie, isFetched]);\n\n    const movie = id ? selectedMovie : randomMovie;\n    const loading = id ? selectedLoading : randomLoading;\n    const error = id ? selectedError : randomError;\n\n    const details = [\n        { label: \"Язык оригинала\", value: movie?.language || \"Не указано\" },\n        { label: \"Бюджет\", value: movie?.budget ? `${movie.budget} $` : \"Не указано\" },\n        { label: \"Выручка\", value: movie?.revenue ? `${movie.revenue} $` : \"Не указано\" },\n        { label: \"Режиссёр\", value: movie?.director || \"Не указано\" },\n        { label: \"Продакшен\", value: movie?.production || \"Не указано\" },\n        { label: \"Награды\", value: movie?.awardsSummary || \"Нет наград\" },\n    ];\n\n    const formatTime = (minutes: number): string => {\n        const hours = Math.floor(minutes / 60);\n        const min = minutes % 60;\n        return hours === 0 ? `${min}мин` : `${hours}ч ${min}мин`;\n    };\n\n    // if (loading) return <p>Загрузка...</p>;\n    if (error) return <p>Ошибка: {error}</p>;\n    // if (!movie) return <p>Фильм не найден</p>;\n\n    return (\n        <div className={styles.infoAboutMovie}>\n            <h2 className={styles.infoAboutMovie__title}>О фильме</h2>\n            <div className={styles.description}>\n                {details.map((item, index) => (\n                    <div key={index} className={styles.description__line}>\n                        <div className={styles.description__name}>\n                            <span className={styles.description__text}>{item.label}</span>\n                            <div className={styles.description__border}></div>\n                        </div>\n                        <span className={styles.description__data}>{item.value}</span>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default InfoAboutMovie;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}